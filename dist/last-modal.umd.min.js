(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["last-modal"]=e():t["last-modal"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function a(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s="fb15")}({"0ac3":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ModalLayout",class:{hasHeader:t.hasHeader,hasFooter:t.hasFooter,isScrollable:t.isScrollable,isPlain:t.isPlain},style:t.computedStyle},[t.hideCloser?t._e():a("div",{staticClass:"ModalLayout__close",on:{click:function(e){return t.close()}}}),t.hasHeader?a("div",{staticClass:"ModalLayout__header"},[t._t("header",[a("div",{staticClass:"ModalLayout__title"},[t._v("\n          "+t._s(t.title)+"\n        ")])])],2):t._e(),a("div",{staticClass:"ModalLayout__body"},[t._t("default")],2),t.hasFooter?a("div",{staticClass:"ModalLayout__footer"},[t._t("footer")],2):t._e()])},n=[],i={name:"modal-layout",props:{title:String,hideCloser:Boolean,scroll:Boolean,plain:Boolean,width:{type:[Number,String],default:600}},computed:{isScrollable:function(){return this.scroll},isPlain:function(){return this.plain},hasHeader:function(){return this.$slots.header||this.title},hasFooter:function(){return this.$slots.footer},computedStyle:function(){var t=this.width+(Number(this.width)?"px":"");if(t&&"auto"!==t)return{width:"100%",maxWidth:t}}},methods:{close:function(){this.$root.$emit("lastModal.closeTop")}}},r=i,s=(a("31ce"),a("2877")),l=Object(s["a"])(r,o,n,!1,null,"5aa9110f",null);e["a"]=l.exports},1574:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ModalStack"},[a("transition",{attrs:{name:"backdrop"}},[t.modals.length?a("div",{staticClass:"ModalStack__backdrop"}):t._e()]),a("transition-group",{attrs:{name:"modal"}},t._l(t.modals,function(e){return a("div",{key:e.id,staticClass:"ModalStack__modalWrapper",on:{click:function(a){return t.closeByBackdropClick(a,e)}}},[a(e.component,t._b({ref:"modal_"+e.id,refInFor:!0,tag:"component",staticClass:"ModalStack__modal",class:{isTop:t.topModal.id===e.id},on:{close:function(a){return t.close(e,a)}}},"component",e.props,!1))],1)}),0)],1)},n=[],i={name:"modal-stack",data:function(){return{modals:[]}},computed:{topModal:function(){return this.modals.length?this.modals[this.modals.length-1]:null}},methods:{open:function(t){document.activeElement&&document.activeElement.blur(),this.modals.push(t)},close:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this.modals.find(function(e){var a=e.id;return a===t.id})){var o=function(){e.modals=e.modals.filter(function(e){var a=e.id;return a!==t.id}),t.resolve(a)},n=this._getModalInstance(t);"before-close"in n.$listeners?n.$emit("before-close",o):o()}},closeTop:function(){this.close(this.topModal)},closeByEscKey:function(t){this.topModal&&"Escape"===t.key&&!t.defaultPrevented&&(t.preventDefault(),this.closeTop())},closeByBackdropClick:function(t,e){t.target===t.currentTarget&&this.close(e)},_getModalInstance:function(t){return this.$refs["modal_".concat(t.id)][0].$children[0]}},mounted:function(){document.body.appendChild(this.$el),document.addEventListener("keydown",this.closeByEscKey),this.$root.$on("lastModal.open",this.open),this.$root.$on("lastModal.close",this.close),this.$root.$on("lastModal.closeTop",this.closeTop)},destroyed:function(){document.body.removeChild(this.$el),document.removeEventListener("keydown",this.closeByEscKey),this.$root.$off("lastModal.open",this.open),this.$root.$off("lastModal.close",this.close),this.$root.$off("lastModal.closeTop",this.closeTop)}},r=i,s=(a("f241"),a("2877")),l=Object(s["a"])(r,o,n,!1,null,"350afaf5",null);e["a"]=l.exports},2350:function(t,e){function a(t,e){var a=t[1]||"",n=t[3];if(!n)return a;if(e&&"function"===typeof btoa){var i=o(n),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[a].concat(r).concat([i]).join("\n")}return[a].join("\n")}function o(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+a+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=a(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o}).join("")},e.i=function(t,a){"string"===typeof t&&(t=[[null,t,""]]);for(var o={},n=0;n<this.length;n++){var i=this[n][0];"number"===typeof i&&(o[i]=!0)}for(n=0;n<t.length;n++){var r=t[n];"number"===typeof r[0]&&o[r[0]]||(a&&!r[2]?r[2]=a:a&&(r[2]="("+r[2]+") and ("+a+")"),e.push(r))}},e}},2877:function(t,e,a){"use strict";function o(t,e,a,o,n,i,r,s){var l,d="function"===typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=a,d._compiled=!0),o&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(t,e){return l.call(e),c(t,e)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:d}}a.d(e,"a",function(){return o})},"31ce":function(t,e,a){"use strict";var o=a("9512"),n=a.n(o);n.a},"499e":function(t,e,a){"use strict";function o(t,e){for(var a=[],o={},n=0;n<e.length;n++){var i=e[n],r=i[0],s=i[1],l=i[2],d=i[3],c={id:t+":"+n,css:s,media:l,sourceMap:d};o[r]?o[r].parts.push(c):a.push(o[r]={id:r,parts:[c]})}return a}a.r(e),a.d(e,"default",function(){return m});var n="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},r=n&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,d=!1,c=function(){},u=null,f="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,a,n){d=a,u=n||{};var r=o(t,e);return b(r),function(e){for(var a=[],n=0;n<r.length;n++){var s=r[n],l=i[s.id];l.refs--,a.push(l)}e?(r=o(t,e),b(r)):r=[];for(n=0;n<a.length;n++){l=a[n];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete i[l.id]}}}}function b(t){for(var e=0;e<t.length;e++){var a=t[e],o=i[a.id];if(o){o.refs++;for(var n=0;n<o.parts.length;n++)o.parts[n](a.parts[n]);for(;n<a.parts.length;n++)o.parts.push(v(a.parts[n]));o.parts.length>a.parts.length&&(o.parts.length=a.parts.length)}else{var r=[];for(n=0;n<a.parts.length;n++)r.push(v(a.parts[n]));i[a.id]={id:a.id,refs:1,parts:r}}}}function h(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function v(t){var e,a,o=document.querySelector("style["+f+'~="'+t.id+'"]');if(o){if(d)return c;o.parentNode.removeChild(o)}if(p){var n=l++;o=s||(s=h()),e=g.bind(null,o,n,!1),a=g.bind(null,o,n,!0)}else o=h(),e=_.bind(null,o),a=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else a()}}var y=function(){var t=[];return function(e,a){return t[e]=a,t.filter(Boolean).join("\n")}}();function g(t,e,a,o){var n=a?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(e,n);else{var i=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i)}}function _(t,e){var a=e.css,o=e.media,n=e.sourceMap;if(o&&t.setAttribute("media",o),u.ssrId&&t.setAttribute(f,e.id),n&&(a+="\n/*# sourceURL="+n.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=a;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}},"4b19":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.ModalLayout[data-v-5aa9110f]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;margin:auto;min-height:-webkit-fit-content;min-height:-moz-fit-content;min-height:fit-content;background:#fff;border-radius:4px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1)}.ModalLayout.isScrollable[data-v-5aa9110f]{min-height:auto;max-height:calc(100vh - 3rem)}.ModalLayout__header[data-v-5aa9110f]{padding:1.25rem 4rem 1.25rem 1.5rem}.ModalLayout__header .ModalLayout.isPlain[data-v-5aa9110f]{padding:0}.ModalLayout__title[data-v-5aa9110f]{font-size:larger}.ModalLayout__close[data-v-5aa9110f]{position:absolute;z-index:1;top:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:4rem;height:4.3rem;font-size:1.85rem;opacity:.4}.ModalLayout__close[data-v-5aa9110f]:before{content:"\\D7";-webkit-transform:translateY(-.15rem);transform:translateY(-.15rem)}.ModalLayout__close[data-v-5aa9110f]:hover{opacity:1;cursor:pointer}.ModalLayout__body[data-v-5aa9110f]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:1.5rem;border-radius:4px}.ModalLayout.hasHeader .ModalLayout__body[data-v-5aa9110f]{padding-top:0;border-top-right-radius:0;border-top-left-radius:0}.ModalLayout.hasFooter .ModalLayout__body[data-v-5aa9110f]{padding-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.ModalLayout.isScrollable .ModalLayout__body[data-v-5aa9110f]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;overflow:auto;padding:1.5rem}.ModalLayout.isScrollable.hasHeader .ModalLayout__body[data-v-5aa9110f]{border-top:1px solid rgba(0,0,0,.1)}.ModalLayout.isScrollable.hasFooter .ModalLayout__body[data-v-5aa9110f]{border-bottom:1px solid rgba(0,0,0,.1)}.ModalLayout.isPlain .ModalLayout__body[data-v-5aa9110f]{padding:0}.ModalLayout__footer[data-v-5aa9110f]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:1.25rem 1.5rem}.ModalLayout.isPlain .ModalLayout__footer[data-v-5aa9110f]{padding:0}',""])},5600:function(t,e,a){var o=a("9f5f");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("499e").default;n("0be3e294",o,!0,{sourceMap:!1,shadowMode:!1})},"5bcf":function(t,e,a){"use strict";var o=a("b4bd"),n=a.n(o);n.a},9512:function(t,e,a){var o=a("4b19");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("499e").default;n("058d48c3",o,!0,{sourceMap:!1,shadowMode:!1})},9565:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal-layout",{staticClass:"Dialog",attrs:{width:"480",title:t.title,closer:""}},[t._v("\n    "+t._s(t.message)+"\n\n    "),a("template",{slot:"footer"},[a("div",{staticClass:"Dialog__buttons"},t._l(t.buttons,function(e,o){return a("span",{key:o,staticClass:"Dialog__buttonWrapper"},[a("button",{class:e.className,attrs:{type:"button"},on:{click:function(a){return t.$emit("close",e.value)}}},[t._v("\n                    "+t._s(e.label)+"\n                ")])])}),0)])],2)},n=[],i={props:{title:String,message:String,buttons:Array},mounted:function(){var t=this.$el.querySelectorAll("button");t.length&&t[t.length-1].focus()}},r=i,s=(a("5bcf"),a("2877")),l=Object(s["a"])(r,o,n,!1,null,"1f089e96",null);e["a"]=l.exports},"9f5f":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".ModalStack[data-v-350afaf5]{position:fixed;z-index:1050}.ModalStack__backdrop[data-v-350afaf5]{background:rgba(0,0,0,.35);position:fixed;z-index:1;top:0;left:0;width:100%;height:100%}.ModalStack__modalWrapper[data-v-350afaf5]{position:fixed;z-index:2;top:0;left:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100vw;padding:1.5rem}.ModalStack__modalScroller[data-v-350afaf5],.ModalStack__modalWrapper[data-v-350afaf5]{display:-webkit-box;display:-ms-flexbox;display:flex;height:100vh;overflow:auto}.ModalStack__modalScroller[data-v-350afaf5]{position:relative;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.ModalStack__modal[data-v-350afaf5]{-webkit-transition:-webkit-filter .15s;transition:-webkit-filter .15s;transition:filter .15s;transition:filter .15s,-webkit-filter .15s}.ModalStack__modal[data-v-350afaf5]:not(.isTop){-webkit-filter:brightness(80%);filter:brightness(80%)}.modal-enter-active[data-v-350afaf5],.modal-leave-active[data-v-350afaf5]{-webkit-transition:opacity .25s;transition:opacity .25s}.modal-enter[data-v-350afaf5],.modal-leave-to[data-v-350afaf5]{opacity:0}.backdrop-enter-active[data-v-350afaf5],.backdrop-leave-active[data-v-350afaf5]{-webkit-transition:opacity .25s;transition:opacity .25s}.backdrop-enter[data-v-350afaf5],.backdrop-leave-to[data-v-350afaf5]{opacity:0}",""])},acf7:function(t,e,a){"use strict";(function(t){var o=a("9565"),n=a("0ac3"),i=a("1574"),r={cancelLabel:"Cancel",confirmLabel:"OK",buttonClassName:"btn btn-secondary",primaryButtonClassName:"btn btn-primary"},s={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=0;e=Object.assign({},r,e),t.component(i["a"].name,i["a"]),t.component(n["a"].name,n["a"]),t.prototype.$modal=function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(i){e.$root.$emit("lastModal.open",{id:++a,component:t,props:o,resolve:i,inline:n})})},t.prototype.$dialog=function(t){var e=t.title,a=t.message,n=t.buttons;return this.$modal(o["a"],{title:e,message:a,buttons:n})},t.prototype.$alert=function(t){return"string"===typeof t&&(t={message:t}),this.$dialog({title:t.title,message:t.message,buttons:[{className:e.buttonClassName,label:t.confirmLabel||e.confirmLabel}]})},t.prototype.$confirm=function(t){return"string"===typeof t&&(t={message:t}),this.$dialog({title:t.title,message:t.message,buttons:[{className:e.buttonClassName,label:t.cancelLabel||e.cancelLabel,value:!1},{className:e.primaryButtonClassName,label:t.confirmLabel||e.confirmLabel,value:!0}]})}}},l=null;"undefined"!==typeof window?l=window.Vue:"undefined"!==typeof t&&(l=t.Vue),l&&l.use(s),e["a"]=s}).call(this,a("c8ba"))},b4bd:function(t,e,a){var o=a("cc4a");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("499e").default;n("18e41baf",o,!0,{sourceMap:!1,shadowMode:!1})},c8ba:function(t,e){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(o){"object"===typeof window&&(a=window)}t.exports=a},cc4a:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".Dialog__buttons[data-v-1f089e96]{text-align:right;margin-top:1rem}.Dialog__buttonWrapper+.Dialog__buttonWrapper[data-v-1f089e96]{margin-left:.5rem}",""])},f241:function(t,e,a){"use strict";var o=a("5600"),n=a.n(o);n.a},fb15:function(t,e,a){"use strict";var o;(a.r(e),"undefined"!==typeof window)&&((o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(a.p=o[1]));var n=a("acf7");e["default"]=n["a"]}})});