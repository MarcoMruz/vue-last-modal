(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["last-modal"]=e():t["last-modal"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="fb15")}({"0ac3":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ModalLayout",class:{hasHeader:t.hasHeader,hasFooter:t.hasFooter,isScrollable:t.isScrollable,isPlain:t.isPlain},style:t.computedStyle},[t.hideCloser?t._e():o("div",{staticClass:"ModalLayout__close",on:{click:function(e){return t.close()}}}),t.hasHeader?o("div",{staticClass:"ModalLayout__header"},[t._t("header",[o("div",{staticClass:"ModalLayout__title"},[t._v("\n          "+t._s(t.title)+"\n        ")])])],2):t._e(),o("div",{staticClass:"ModalLayout__body"},[t._t("default")],2),t.hasFooter?o("div",{staticClass:"ModalLayout__footer"},[t._t("footer")],2):t._e()])},a=[],r=o("acf7"),i={name:"modal-layout",props:{title:String,hideCloser:Boolean,scroll:Boolean,plain:Boolean,width:{type:[Number,String],default:600}},computed:{isScrollable:function(){return this.scroll},isPlain:function(){return this.plain},hasHeader:function(){return this.$slots.header||this.title},hasFooter:function(){return this.$slots.footer},computedStyle:function(){var t=this.width+(Number(this.width)?"px":"");if(t&&"auto"!==t)return{width:"100%",maxWidth:t}}},methods:{close:function(){r["a"].bus.$emit("closeTop")}}},s=i,l=(o("a956"),o("2877")),c=Object(l["a"])(s,n,a,!1,null,null,null);e["a"]=c.exports},1574:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ModalStack"},[o("transition",{attrs:{name:t.config.backdropTransitionName}},[t.modals.length?o("div",{staticClass:"ModalStack__backdrop"}):t._e()]),o("transition-group",{attrs:{name:t.config.modalTransitionName}},t._l(t.modals,function(e){return o("div",{key:e.id,staticClass:"ModalStack__modalWrapper",on:{click:function(o){return t.closeByBackdropClick(o,e)}}},[o(e.component,t._b({ref:"modal_"+e.id,refInFor:!0,tag:"component",staticClass:"ModalStack__modal",class:{isTop:t.topModal.id===e.id},on:{close:function(o){return t.close(e,o)}}},"component",e.props,!1))],1)}),0)],1)},a=[],r=o("acf7");function i(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){s(t,e,o[e])})}return t}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l={name:"modal-stack",props:{config:{type:Object}},data:function(){return{sequence:1,modals:[]}},computed:{topModal:function(){return this.modals.length?this.modals[this.modals.length-1]:null}},methods:{open:function(t){document.activeElement&&document.activeElement.blur(),this.modals.push(i({},t,{id:this.sequence++}))},close:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this.modals.find(function(e){var o=e.id;return o===t.id})){var n=function(){e.modals=e.modals.filter(function(e){var o=e.id;return o!==t.id}),t&&t.resolve(o)},a=this._getModalInstance(t);a&&"before-close"in a.$listeners?a.$emit("before-close",n):n()}},closeTop:function(){this.close(this.topModal)},closeByEscKey:function(t){this.topModal&&"Escape"===t.key&&!t.defaultPrevented&&(t.preventDefault(),this.closeTop())},closeByBackdropClick:function(t,e){t.target===t.currentTarget&&this.close(e)},_getModalInstance:function(t){return this.$refs["modal_".concat(t.id)][0].$children[0]}},mounted:function(){document.body.appendChild(this.$el),document.addEventListener("keydown",this.closeByEscKey),r["a"].bus.$on("open",this.open),r["a"].bus.$on("close",this.close),r["a"].bus.$on("closeTop",this.closeTop)},destroyed:function(){document.body.removeChild(this.$el),document.removeEventListener("keydown",this.closeByEscKey),r["a"].bus.$off("open",this.open),r["a"].bus.$off("close",this.close),r["a"].bus.$off("closeTop",this.closeTop)}},c=l,d=(o("5bff"),o("2877")),u=Object(d["a"])(c,n,a,!1,null,null,null);e["a"]=u.exports},2350:function(t,e){function o(t,e){var o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"===typeof btoa){var r=n(a),i=a.sources.map(function(t){return"/*# sourceURL="+a.sourceRoot+t+" */"});return[o].concat(i).concat([r]).join("\n")}return[o].join("\n")}function n(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+o+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=o(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,o){"string"===typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var r=this[a][0];"number"===typeof r&&(n[r]=!0)}for(a=0;a<t.length;a++){var i=t[a];"number"===typeof i[0]&&n[i[0]]||(o&&!i[2]?i[2]=o:o&&(i[2]="("+i[2]+") and ("+o+")"),e.push(i))}},e}},"24a4":function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,'.ModalLayout{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;margin:auto;min-height:-webkit-fit-content;min-height:-moz-fit-content;min-height:fit-content;background-color:#fff;border-radius:4px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1)}.ModalLayout.isScrollable{min-height:auto;max-height:calc(100vh - 3rem)}.ModalLayout__header{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:1.25rem 4rem 1.25rem 1.5rem}.ModalLayout__header .ModalLayout.isPlain{padding:0}.ModalLayout__title{font-size:larger}.ModalLayout__close{position:absolute;z-index:1;top:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:4rem;height:4.3rem;font-size:1.85rem;opacity:.4}.ModalLayout__close:before{content:"\\D7";-webkit-transform:translateY(-.15rem);transform:translateY(-.15rem)}.ModalLayout__close:hover{opacity:1;cursor:pointer}.ModalLayout__body{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;padding:1.5rem;border-radius:4px}.ModalLayout.hasHeader .ModalLayout__body{padding-top:0;border-top-right-radius:0;border-top-left-radius:0}.ModalLayout.hasFooter .ModalLayout__body{padding-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.ModalLayout.isScrollable .ModalLayout__body{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;overflow:auto;padding:1.5rem;-ms-scroll-chaining:none;overscroll-behavior:contain;overflow-y:scroll;-webkit-overflow-scrolling:touch}.ModalLayout.isScrollable.hasHeader .ModalLayout__body{border-top:1px solid rgba(0,0,0,.1)}.ModalLayout.isScrollable.hasFooter .ModalLayout__body{border-bottom:1px solid rgba(0,0,0,.1)}.ModalLayout.isPlain .ModalLayout__body{padding:0}.ModalLayout__footer{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:1.25rem 1.5rem}.ModalLayout.isPlain .ModalLayout__footer{padding:0}',""])},2877:function(t,e,o){"use strict";function n(t,e,o,n,a,r,i,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=o,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),i?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=l):a&&(l=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}o.d(e,"a",function(){return n})},"37be":function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".ModalStack{position:fixed;z-index:1050}.ModalStack__backdrop{background:rgba(0,0,0,.35);position:fixed;z-index:1;top:0;left:0;width:100%;height:100%}.ModalStack__modalWrapper{position:fixed;z-index:2;top:0;left:0;right:0;bottom:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:auto;height:auto;padding:1.5rem}.ModalStack__modalScroller,.ModalStack__modalWrapper{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:auto}.ModalStack__modalScroller{position:relative;height:100vh;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.ModalStack__modal{-webkit-transition:-webkit-filter .15s;transition:-webkit-filter .15s;transition:filter .15s;transition:filter .15s,-webkit-filter .15s}.ModalStack__modal:not(.isTop){-webkit-filter:brightness(80%);filter:brightness(80%)}.ModalStack__modal-enter-active,.ModalStack__modal-leave-active{-webkit-transition:opacity .25s;transition:opacity .25s;pointer-events:none}.ModalStack__modal-enter,.ModalStack__modal-leave-to{opacity:0;pointer-events:none}.ModalStack__backdrop-enter-active,.ModalStack__backdrop-leave-active{-webkit-transition:opacity .25s;transition:opacity .25s;pointer-events:none}.ModalStack__backdrop-enter,.ModalStack__backdrop-leave-to{opacity:0;pointer-events:none}",""])},4170:function(t,e,o){var n=o("24a4");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=o("499e").default;a("5288e582",n,!0,{sourceMap:!1,shadowMode:!1})},"499e":function(t,e,o){"use strict";function n(t,e){for(var o=[],n={},a=0;a<e.length;a++){var r=e[a],i=r[0],s=r[1],l=r[2],c=r[3],d={id:t+":"+a,css:s,media:l,sourceMap:c};n[i]?n[i].parts.push(d):o.push(n[i]={id:i,parts:[d]})}return o}o.r(e),o.d(e,"default",function(){return m});var a="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},i=a&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,d=function(){},u=null,f="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,o,a){c=o,u=a||{};var i=n(t,e);return b(i),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],l=r[s.id];l.refs--,o.push(l)}e?(i=n(t,e),b(i)):i=[];for(a=0;a<o.length;a++){l=o[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}}function b(t){for(var e=0;e<t.length;e++){var o=t[e],n=r[o.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](o.parts[a]);for(;a<o.parts.length;a++)n.parts.push(y(o.parts[a]));n.parts.length>o.parts.length&&(n.parts.length=o.parts.length)}else{var i=[];for(a=0;a<o.parts.length;a++)i.push(y(o.parts[a]));r[o.id]={id:o.id,refs:1,parts:i}}}}function h(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function y(t){var e,o,n=document.querySelector("style["+f+'~="'+t.id+'"]');if(n){if(c)return d;n.parentNode.removeChild(n)}if(p){var a=l++;n=s||(s=h()),e=g.bind(null,n,a,!1),o=g.bind(null,n,a,!0)}else n=h(),e=_.bind(null,n),o=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else o()}}var v=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}();function g(t,e,o,n){var a=o?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,a);else{var r=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}function _(t,e){var o=e.css,n=e.media,a=e.sourceMap;if(n&&t.setAttribute("media",n),u.ssrId&&t.setAttribute(f,e.id),a&&(o+="\n/*# sourceURL="+a.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=o;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}},5411:function(t,e,o){"use strict";var n=o("ccd2"),a=o.n(n);a.a},"5bff":function(t,e,o){"use strict";var n=o("be9f"),a=o.n(n);a.a},7011:function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".ModalLayoutDialog__buttons{text-align:right;margin-top:1rem}.ModalLayoutDialog__buttonWrapper+.ModalLayoutDialog__buttonWrapper{margin-left:.5rem}",""])},9565:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal-layout",{staticClass:"ModalLayoutDialog",attrs:{width:"480",title:t.title,closer:""}},[t._v("\n  "+t._s(t.message)+"\n\n  "),t.buttons&&t.buttons.length?o("template",{slot:"footer"},[o("div",{staticClass:"ModalLayoutDialog__buttons"},t._l(t.buttons,function(e,n){return o("span",{key:n,staticClass:"ModalLayoutDialog__buttonWrapper"},[o("button",{class:e.className,attrs:{type:"button"},on:{click:function(o){return t.$emit("close",e.value)}}},[t._v("\n          "+t._s(e.label)+"\n        ")])])}),0)]):t._e()],2)},a=[],r={props:{title:String,message:String,buttons:Array},mounted:function(){var t=this.$el.querySelectorAll("button");t.length&&t[t.length-1].focus()}},i=r,s=(o("5411"),o("2877")),l=Object(s["a"])(i,n,a,!1,null,null,null);e["a"]=l.exports},a956:function(t,e,o){"use strict";var n=o("4170"),a=o.n(n);a.a},acf7:function(t,e,o){"use strict";(function(t){var n=o("9565"),a=o("0ac3"),r=o("1574"),i={cancelLabel:"Cancel",confirmLabel:"OK",buttonClassName:"btn btn-secondary",primaryButtonClassName:"btn btn-primary",backdropTransitionName:"ModalStack__backdrop",modalTransitionName:"ModalStack__modal"},s={install:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.installed){o=Object.assign({},i,o),this.installed=!0,this.bus=new t,t.component(a["a"].name,a["a"]);var l=function(n){return e.container||(e.container=document.createElement("div"),document.body.appendChild(e.container),new t({parent:n,render:function(t){return t(r["a"],{props:{config:o}})}}).$mount(e.container)),e.container};t.prototype.$modal=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this.$root),new Promise(function(n){s.bus.$emit("open",{component:t,props:e,resolve:n,inline:o})})},t.prototype.$dialog=function(t){var e=t.title,o=t.message,a=t.buttons;return this.$modal(n["a"],{title:e,message:o,buttons:a})},t.prototype.$alert=function(t){return"string"===typeof t&&(t={message:t}),this.$dialog({title:t.title,message:t.message,buttons:[{className:o.buttonClassName,label:t.confirmLabel||o.confirmLabel}]})},t.prototype.$confirm=function(t){return"string"===typeof t&&(t={message:t}),this.$dialog({title:t.title,message:t.message,buttons:[{className:o.buttonClassName,label:t.cancelLabel||o.cancelLabel,value:!1},{className:o.primaryButtonClassName,label:t.confirmLabel||o.confirmLabel,value:!0}]})}}}},l=null;"undefined"!==typeof window?l=window.Vue:"undefined"!==typeof t&&(l=t.Vue),l&&l.use(s),e["a"]=s}).call(this,o("c8ba"))},be9f:function(t,e,o){var n=o("37be");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=o("499e").default;a("0fb8df7a",n,!0,{sourceMap:!1,shadowMode:!1})},c8ba:function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(n){"object"===typeof window&&(o=window)}t.exports=o},ccd2:function(t,e,o){var n=o("7011");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=o("499e").default;a("b14d6a7c",n,!0,{sourceMap:!1,shadowMode:!1})},fb15:function(t,e,o){"use strict";var n;(o.r(e),"undefined"!==typeof window)&&((n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(o.p=n[1]));var a=o("acf7");e["default"]=a["a"]}})});