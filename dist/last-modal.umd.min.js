(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["last-modal"]=e():t["last-modal"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function o(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="fb15")}({"0ac3":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ModalLayout",class:{hasHeader:t.hasHeader,hasFooter:t.hasFooter,isScrollable:t.isScrollable,isPlain:t.isPlain},style:t.computedStyle},[t.hideCloser?t._e():o("div",{staticClass:"ModalLayout__close",on:{click:function(e){return t.close()}}}),t.hasHeader?o("div",{staticClass:"ModalLayout__header"},[t._t("header",[o("div",{staticClass:"ModalLayout__title"},[t._v("\n          "+t._s(t.title)+"\n        ")])])],2):t._e(),o("div",{staticClass:"ModalLayout__body"},[t._t("default")],2),t.hasFooter?o("div",{staticClass:"ModalLayout__footer"},[t._t("footer")],2):t._e()])},n=[],r=o("acf7"),i={name:"modal-layout",props:{title:String,hideCloser:Boolean,scroll:Boolean,plain:Boolean,width:{type:[Number,String],default:600}},computed:{isScrollable:function(){return this.scroll},isPlain:function(){return this.plain},hasHeader:function(){return this.$slots.header||this.title},hasFooter:function(){return this.$slots.footer},computedStyle:function(){var t=this.width+(Number(this.width)?"px":"");if(t&&"auto"!==t)return{width:"100%",maxWidth:t}}},methods:{close:function(){r["a"].bus.$emit("closeTop")}}},s=i,l=(o("cc86"),o("2877")),c=Object(l["a"])(s,a,n,!1,null,"7d1f4c3c",null);e["a"]=c.exports},"0c3d":function(t,e,o){"use strict";var a=o("f2b1"),n=o.n(a);n.a},1574:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ModalStack"},[o("transition",{attrs:{name:"ModalStack__backdrop"}},[t.modals.length?o("div",{staticClass:"ModalStack__backdrop"}):t._e()]),o("transition-group",{attrs:{name:"ModalStack__modal"}},t._l(t.modals,function(e){return o("div",{key:e.id,staticClass:"ModalStack__modalWrapper",on:{click:function(o){return t.closeByBackdropClick(o,e)}}},[o(e.component,t._b({ref:"modal_"+e.id,refInFor:!0,tag:"component",staticClass:"ModalStack__modal",class:{isTop:t.topModal.id===e.id},on:{close:function(o){return t.close(e,o)}}},"component",e.props,!1))],1)}),0)],1)},n=[],r=o("acf7");function i(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},a=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),a.forEach(function(e){s(t,e,o[e])})}return t}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l={name:"modal-stack",data:function(){return{sequence:1,modals:[]}},computed:{topModal:function(){return this.modals.length?this.modals[this.modals.length-1]:null}},methods:{open:function(t){document.activeElement&&document.activeElement.blur(),this.modals.push(i({},t,{id:this.sequence++}))},close:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this.modals.find(function(e){var o=e.id;return o===t.id})){var a=function(){e.modals=e.modals.filter(function(e){var o=e.id;return o!==t.id}),t.resolve(o)},n=this._getModalInstance(t);"before-close"in n.$listeners?n.$emit("before-close",a):a()}},closeTop:function(){this.close(this.topModal)},closeByEscKey:function(t){this.topModal&&"Escape"===t.key&&!t.defaultPrevented&&(t.preventDefault(),this.closeTop())},closeByBackdropClick:function(t,e){t.target===t.currentTarget&&this.close(e)},_getModalInstance:function(t){return this.$refs["modal_".concat(t.id)][0].$children[0]}},mounted:function(){document.body.appendChild(this.$el),document.addEventListener("keydown",this.closeByEscKey),r["a"].bus.$on("open",this.open),r["a"].bus.$on("close",this.close),r["a"].bus.$on("closeTop",this.closeTop)},destroyed:function(){document.body.removeChild(this.$el),document.removeEventListener("keydown",this.closeByEscKey),r["a"].bus.$off("open",this.open),r["a"].bus.$off("close",this.close),r["a"].bus.$off("closeTop",this.closeTop)}},c=l,d=(o("0c3d"),o("2877")),u=Object(d["a"])(c,a,n,!1,null,"5e742f0e",null);e["a"]=u.exports},2350:function(t,e){function o(t,e){var o=t[1]||"",n=t[3];if(!n)return o;if(e&&"function"===typeof btoa){var r=a(n),i=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[o].concat(i).concat([r]).join("\n")}return[o].join("\n")}function a(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+o+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a=o(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a}).join("")},e.i=function(t,o){"string"===typeof t&&(t=[[null,t,""]]);for(var a={},n=0;n<this.length;n++){var r=this[n][0];"number"===typeof r&&(a[r]=!0)}for(n=0;n<t.length;n++){var i=t[n];"number"===typeof i[0]&&a[i[0]]||(o&&!i[2]?i[2]=o:o&&(i[2]="("+i[2]+") and ("+o+")"),e.push(i))}},e}},2877:function(t,e,o){"use strict";function a(t,e,o,a,n,r,i,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=o,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),i?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}o.d(e,"a",function(){return a})},"499e":function(t,e,o){"use strict";function a(t,e){for(var o=[],a={},n=0;n<e.length;n++){var r=e[n],i=r[0],s=r[1],l=r[2],c=r[3],d={id:t+":"+n,css:s,media:l,sourceMap:c};a[i]?a[i].parts.push(d):o.push(a[i]={id:i,parts:[d]})}return o}o.r(e),o.d(e,"default",function(){return m});var n="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},i=n&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,d=function(){},u=null,f="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,o,n){c=o,u=n||{};var i=a(t,e);return b(i),function(e){for(var o=[],n=0;n<i.length;n++){var s=i[n],l=r[s.id];l.refs--,o.push(l)}e?(i=a(t,e),b(i)):i=[];for(n=0;n<o.length;n++){l=o[n];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}}function b(t){for(var e=0;e<t.length;e++){var o=t[e],a=r[o.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](o.parts[n]);for(;n<o.parts.length;n++)a.parts.push(v(o.parts[n]));a.parts.length>o.parts.length&&(a.parts.length=o.parts.length)}else{var i=[];for(n=0;n<o.parts.length;n++)i.push(v(o.parts[n]));r[o.id]={id:o.id,refs:1,parts:i}}}}function h(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function v(t){var e,o,a=document.querySelector("style["+f+'~="'+t.id+'"]');if(a){if(c)return d;a.parentNode.removeChild(a)}if(p){var n=l++;a=s||(s=h()),e=_.bind(null,a,n,!1),o=_.bind(null,a,n,!0)}else a=h(),e=g.bind(null,a),o=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else o()}}var y=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}();function _(t,e,o,a){var n=o?"":a.css;if(t.styleSheet)t.styleSheet.cssText=y(e,n);else{var r=document.createTextNode(n),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}function g(t,e){var o=e.css,a=e.media,n=e.sourceMap;if(a&&t.setAttribute("media",a),u.ssrId&&t.setAttribute(f,e.id),n&&(o+="\n/*# sourceURL="+n.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=o;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}},6107:function(t,e,o){var a=o("d82c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=o("499e").default;n("e9638d6c",a,!0,{sourceMap:!1,shadowMode:!1})},"79c0":function(t,e,o){"use strict";var a=o("82b4"),n=o.n(a);n.a},"82b4":function(t,e,o){var a=o("dd9e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=o("499e").default;n("1c2e3e18",a,!0,{sourceMap:!1,shadowMode:!1})},9565:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal-layout",{staticClass:"Dialog",attrs:{width:"480",title:t.title,closer:""}},[t._v("\n  "+t._s(t.message)+"\n\n  "),o("template",{slot:"footer"},[o("div",{staticClass:"Dialog__buttons"},t._l(t.buttons,function(e,a){return o("span",{key:a,staticClass:"Dialog__buttonWrapper"},[o("button",{class:e.className,attrs:{type:"button"},on:{click:function(o){return t.$emit("close",e.value)}}},[t._v("\n          "+t._s(e.label)+"\n        ")])])}),0)])],2)},n=[],r={props:{title:String,message:String,buttons:Array},mounted:function(){var t=this.$el.querySelectorAll("button");t.length&&t[t.length-1].focus()}},i=r,s=(o("79c0"),o("2877")),l=Object(s["a"])(i,a,n,!1,null,"52c9d1f5",null);e["a"]=l.exports},"9aa2":function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".ModalStack[data-v-5e742f0e]{position:fixed;z-index:1050}.ModalStack__backdrop[data-v-5e742f0e]{background:rgba(0,0,0,.35);position:fixed;z-index:1;top:0;left:0;width:100%;height:100%}.ModalStack__modalWrapper[data-v-5e742f0e]{position:fixed;z-index:2;top:0;left:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100vw;padding:1.5rem}.ModalStack__modalScroller[data-v-5e742f0e],.ModalStack__modalWrapper[data-v-5e742f0e]{display:-webkit-box;display:-ms-flexbox;display:flex;height:100vh;overflow:auto}.ModalStack__modalScroller[data-v-5e742f0e]{position:relative;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.ModalStack__modal[data-v-5e742f0e]{-webkit-transition:-webkit-filter .15s;transition:-webkit-filter .15s;transition:filter .15s;transition:filter .15s,-webkit-filter .15s}.ModalStack__modal[data-v-5e742f0e]:not(.isTop){-webkit-filter:brightness(80%);filter:brightness(80%)}.ModalStack__modal-enter-active[data-v-5e742f0e],.ModalStack__modal-leave-active[data-v-5e742f0e]{-webkit-transition:opacity .25s;transition:opacity .25s}.ModalStack__modal-enter[data-v-5e742f0e],.ModalStack__modal-leave-to[data-v-5e742f0e]{opacity:0}.ModalStack__backdrop-enter-active[data-v-5e742f0e],.ModalStack__backdrop-leave-active[data-v-5e742f0e]{-webkit-transition:opacity .25s;transition:opacity .25s}.ModalStack__backdrop-enter[data-v-5e742f0e],.ModalStack__backdrop-leave-to[data-v-5e742f0e]{opacity:0}",""])},acf7:function(t,e,o){"use strict";(function(t){var a=o("9565"),n=o("0ac3"),r=o("1574"),i={cancelLabel:"Cancel",confirmLabel:"OK",buttonClassName:"btn btn-secondary",primaryButtonClassName:"btn btn-primary"},s={install:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.installed){o=Object.assign({},i,o),this.installed=!0,this.bus=new t,t.component(n["a"].name,n["a"]);var l=function(o){return e.container||(e.container=document.createElement("div"),document.body.appendChild(e.container),new t({parent:o,render:function(t){return t(r["a"])}}).$mount(e.container)),e.container};t.prototype.$modal=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this.$root),new Promise(function(a){s.bus.$emit("open",{component:t,props:e,resolve:a,inline:o})})},t.prototype.$dialog=function(t){var e=t.title,o=t.message,n=t.buttons;return this.$modal(a["a"],{title:e,message:o,buttons:n})},t.prototype.$alert=function(t){return"string"===typeof t&&(t={message:t}),this.$dialog({title:t.title,message:t.message,buttons:[{className:o.buttonClassName,label:t.confirmLabel||o.confirmLabel}]})},t.prototype.$confirm=function(t){return"string"===typeof t&&(t={message:t}),this.$dialog({title:t.title,message:t.message,buttons:[{className:o.buttonClassName,label:t.cancelLabel||o.cancelLabel,value:!1},{className:o.primaryButtonClassName,label:t.confirmLabel||o.confirmLabel,value:!0}]})}}}},l=null;"undefined"!==typeof window?l=window.Vue:"undefined"!==typeof t&&(l=t.Vue),l&&l.use(s),e["a"]=s}).call(this,o("c8ba"))},c8ba:function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(a){"object"===typeof window&&(o=window)}t.exports=o},cc86:function(t,e,o){"use strict";var a=o("6107"),n=o.n(a);n.a},d82c:function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,'.ModalLayout[data-v-7d1f4c3c]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;margin:auto;min-height:-webkit-fit-content;min-height:-moz-fit-content;min-height:fit-content;background:#fff;border-radius:4px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1)}.ModalLayout.isScrollable[data-v-7d1f4c3c]{min-height:auto;max-height:calc(100vh - 3rem)}.ModalLayout__header[data-v-7d1f4c3c]{padding:1.25rem 4rem 1.25rem 1.5rem}.ModalLayout__header .ModalLayout.isPlain[data-v-7d1f4c3c]{padding:0}.ModalLayout__title[data-v-7d1f4c3c]{font-size:larger}.ModalLayout__close[data-v-7d1f4c3c]{position:absolute;z-index:1;top:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:4rem;height:4.3rem;font-size:1.85rem;opacity:.4}.ModalLayout__close[data-v-7d1f4c3c]:before{content:"\\D7";-webkit-transform:translateY(-.15rem);transform:translateY(-.15rem)}.ModalLayout__close[data-v-7d1f4c3c]:hover{opacity:1;cursor:pointer}.ModalLayout__body[data-v-7d1f4c3c]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:1.5rem;border-radius:4px}.ModalLayout.hasHeader .ModalLayout__body[data-v-7d1f4c3c]{padding-top:0;border-top-right-radius:0;border-top-left-radius:0}.ModalLayout.hasFooter .ModalLayout__body[data-v-7d1f4c3c]{padding-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.ModalLayout.isScrollable .ModalLayout__body[data-v-7d1f4c3c]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;overflow:auto;padding:1.5rem}.ModalLayout.isScrollable.hasHeader .ModalLayout__body[data-v-7d1f4c3c]{border-top:1px solid rgba(0,0,0,.1)}.ModalLayout.isScrollable.hasFooter .ModalLayout__body[data-v-7d1f4c3c]{border-bottom:1px solid rgba(0,0,0,.1)}.ModalLayout.isPlain .ModalLayout__body[data-v-7d1f4c3c]{padding:0}.ModalLayout__footer[data-v-7d1f4c3c]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:1.25rem 1.5rem}.ModalLayout.isPlain .ModalLayout__footer[data-v-7d1f4c3c]{padding:0}',""])},dd9e:function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".Dialog__buttons[data-v-52c9d1f5]{text-align:right;margin-top:1rem}.Dialog__buttonWrapper+.Dialog__buttonWrapper[data-v-52c9d1f5]{margin-left:.5rem}",""])},f2b1:function(t,e,o){var a=o("9aa2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=o("499e").default;n("3fcb11dd",a,!0,{sourceMap:!1,shadowMode:!1})},fb15:function(t,e,o){"use strict";var a;(o.r(e),"undefined"!==typeof window)&&((a=window.document.currentScript)&&(a=a.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(o.p=a[1]));var n=o("acf7");e["default"]=n["a"]}})});