(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["last-modal"]=e(require("vue")):t["last-modal"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="fb15")}({"088c":function(t,e,o){var n=o("24fb");e=n(!1),e.push([t.i,'.ModalLayout{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;margin:auto;min-height:-webkit-fit-content;min-height:-moz-fit-content;min-height:fit-content;background-color:#fff;border-radius:4px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1)}.ModalLayout.isScrollable{min-height:auto;max-height:calc(100vh - 3rem)}.ModalLayout__header{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:1.25rem 4rem 1.25rem 1.5rem}.ModalLayout__header .ModalLayout.isPlain{padding:0}.ModalLayout__title{font-size:larger}.ModalLayout__close{position:absolute;z-index:1;top:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:4rem;height:4.3rem;font-size:1.85rem;opacity:.4}.ModalLayout__close:before{content:"\\00d7";-webkit-transform:translateY(-.15rem);transform:translateY(-.15rem)}.ModalLayout__close:hover{opacity:1;cursor:pointer}.ModalLayout__body{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;padding:1.5rem;border-radius:4px}.ModalLayout.hasHeader .ModalLayout__body{padding-top:0;border-top-right-radius:0;border-top-left-radius:0}.ModalLayout.hasFooter .ModalLayout__body{padding-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.ModalLayout.isScrollable .ModalLayout__body{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;overflow:auto;padding:1.5rem;-ms-scroll-chaining:none;overscroll-behavior:contain;overflow-y:scroll;-webkit-overflow-scrolling:touch}.ModalLayout.isScrollable.hasHeader .ModalLayout__body{border-top:1px solid rgba(0,0,0,.1)}.ModalLayout.isScrollable.hasFooter .ModalLayout__body{border-bottom:1px solid rgba(0,0,0,.1)}.ModalLayout.isPlain .ModalLayout__body{padding:0}.ModalLayout__footer{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:1.25rem 1.5rem}.ModalLayout.isPlain .ModalLayout__footer{padding:0}',""]),t.exports=e},"24fb":function(t,e,o){"use strict";function n(t,e){var o=t[1]||"",n=t[3];if(!n)return o;if(e&&"function"===typeof btoa){var r=a(n),i=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[o].concat(i).concat([r]).join("\n")}return[o].join("\n")}function a(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(o," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o=n(e,t);return e[2]?"@media ".concat(e[2]," {").concat(o,"}"):o})).join("")},e.i=function(t,o,n){"string"===typeof t&&(t=[[null,t,""]]);var a={};if(n)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(a[i]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);n&&a[l[0]]||(o&&(l[2]?l[2]="".concat(o," and ").concat(l[2]):l[2]=o),e.push(l))}},e}},2506:function(t,e,o){"use strict";o("5ae9")},"499e":function(t,e,o){"use strict";function n(t,e){for(var o=[],n={},a=0;a<e.length;a++){var r=e[a],i=r[0],s=r[1],l=r[2],c=r[3],d={id:t+":"+a,css:s,media:l,sourceMap:c};n[i]?n[i].parts.push(d):o.push(n[i]={id:i,parts:[d]})}return o}o.r(e),o.d(e,"default",(function(){return m}));var a="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},i=a&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,d=function(){},u=null,f="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,o,a){c=o,u=a||{};var i=n(t,e);return h(i),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],l=r[s.id];l.refs--,o.push(l)}e?(i=n(t,e),h(i)):i=[];for(a=0;a<o.length;a++){l=o[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}}function h(t){for(var e=0;e<t.length;e++){var o=t[e],n=r[o.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](o.parts[a]);for(;a<o.parts.length;a++)n.parts.push(y(o.parts[a]));n.parts.length>o.parts.length&&(n.parts.length=o.parts.length)}else{var i=[];for(a=0;a<o.parts.length;a++)i.push(y(o.parts[a]));r[o.id]={id:o.id,refs:1,parts:i}}}}function b(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function y(t){var e,o,n=document.querySelector("style["+f+'~="'+t.id+'"]');if(n){if(c)return d;n.parentNode.removeChild(n)}if(p){var a=l++;n=s||(s=b()),e=_.bind(null,n,a,!1),o=_.bind(null,n,a,!0)}else n=b(),e=g.bind(null,n),o=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else o()}}var v=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}();function _(t,e,o,n){var a=o?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,a);else{var r=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}function g(t,e){var o=e.css,n=e.media,a=e.sourceMap;if(n&&t.setAttribute("media",n),u.ssrId&&t.setAttribute(f,e.id),a&&(o+="\n/*# sourceURL="+a.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=o;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}},"5ae9":function(t,e,o){var n=o("6b49");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=o("499e").default;a("89dcc902",n,!0,{sourceMap:!1,shadowMode:!1})},"6b49":function(t,e,o){var n=o("24fb");e=n(!1),e.push([t.i,".ModalStack{position:fixed;z-index:1050}.ModalStack__backdrop{background:rgba(0,0,0,.35);position:fixed;z-index:1;top:0;left:0;width:100%;height:100%}.ModalStack__modalWrapper{position:fixed;z-index:2;top:0;left:0;right:0;bottom:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:auto;height:auto;padding:1.5rem}.ModalStack__modalScroller,.ModalStack__modalWrapper{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:auto}.ModalStack__modalScroller{position:relative;height:100vh;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.ModalStack__modal{-webkit-transition:-webkit-filter .15s;transition:-webkit-filter .15s;transition:filter .15s;transition:filter .15s,-webkit-filter .15s}.ModalStack__modal:not(.isTop){-webkit-filter:brightness(80%);filter:brightness(80%)}.ModalStack__modal-enter-active,.ModalStack__modal-leave-active{-webkit-transition:opacity .25s;transition:opacity .25s;pointer-events:none}.ModalStack__modal-enter,.ModalStack__modal-leave-to{opacity:0;pointer-events:none}.ModalStack__backdrop-enter-active,.ModalStack__backdrop-leave-active{-webkit-transition:opacity .25s;transition:opacity .25s;pointer-events:none}.ModalStack__backdrop-enter,.ModalStack__backdrop-leave-to{opacity:0;pointer-events:none}",""]),t.exports=e},"728e":function(t,e,o){var n=o("24fb");e=n(!1),e.push([t.i,".ModalLayoutDialog__buttons{text-align:right;margin-top:1rem}.ModalLayoutDialog__buttons>*+*{margin-left:.5rem}",""]),t.exports=e},8875:function(t,e,o){var n,a,r;(function(o,i){a=[],n=i,r="function"===typeof n?n.apply(e,a):n,void 0===r||(t.exports=r)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var o,n,a,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,i=/@([^@]*):(\d+):(\d+)\s*$/gi,s=r.exec(p.stack)||i.exec(p.stack),l=s&&s[1]||!1,c=s&&s[2]||!1,d=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");l===d&&(o=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),a=o.replace(n,"$1").trim());for(var f=0;f<u.length;f++){if("interactive"===u[f].readyState)return u[f];if(u[f].src===l)return u[f];if(l===d&&u[f].innerHTML&&u[f].innerHTML.trim()===a)return u[f]}return null}}return t}))},"8bbf":function(e,o){e.exports=t},ca56:function(t,e,o){"use strict";o("ce66")},ce66:function(t,e,o){var n=o("728e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=o("499e").default;a("34be9a76",n,!0,{sourceMap:!1,shadowMode:!1})},d0e6:function(t,e,o){"use strict";o("f81f")},f81f:function(t,e,o){var n=o("088c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=o("499e").default;a("13137735",n,!0,{sourceMap:!1,shadowMode:!1})},fb15:function(t,e,o){"use strict";if(o.r(e),"undefined"!==typeof window){var n=window.document.currentScript,a=o("8875");n=a(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:a});var r=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);r&&(o.p=r[1])}var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal-layout",{staticClass:"ModalLayoutDialog",attrs:{width:"480",title:t.title,closer:""}},[t._v(" "+t._s(t.message)+" "),t.buttons&&t.buttons.length?o("template",{slot:"footer"},[o("div",{staticClass:"ModalLayoutDialog__buttons"},t._l(t.buttons,(function(e,n){return o("span",{key:n,staticClass:"ModalLayoutDialog__buttonWrapper"},[o("button",{class:e.className,attrs:{type:"button"},on:{click:function(o){return t.$emit("close",e.value)}}},[t._v(" "+t._s(e.label)+" ")])])})),0)]):t._e()],2)},s=[],l=o("8bbf"),c=o.n(l),d=c.a.extend({props:{title:{type:String,default:""},message:{type:String,default:""},buttons:{type:Array}},mounted:function(){var t=this.$el.querySelectorAll("button");t.length&&t[t.length-1].focus()}}),u=d;o("ca56");function f(t,e,o,n,a,r,i,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=o,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),i?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=l):a&&(l=s?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}var p=f(u,i,s,!1,null,null,null),m=p.exports,h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ModalLayout",class:{hasHeader:t.hasHeader,hasFooter:t.hasFooter,isScrollable:t.isScrollable,isPlain:t.isPlain},style:t.computedStyle},[t.hideCloser?t._e():o("div",{staticClass:"ModalLayout__close",on:{click:function(e){return t.close()}}}),t.hasHeader?o("div",{staticClass:"ModalLayout__header"},[t._t("header",[o("div",{staticClass:"ModalLayout__title"},[t._v(" "+t._s(t.title)+" ")])])],2):t._e(),o("div",{staticClass:"ModalLayout__body"},[t._t("default")],2),t.hasFooter?o("div",{staticClass:"ModalLayout__footer"},[t._t("footer")],2):t._e()])},b=[],y=c.a.extend({name:"modal-layout",props:{title:{type:String,default:""},hideCloser:{type:Boolean},scroll:{type:Boolean},plain:{type:Boolean},width:{type:[Number,String],default:600}},computed:{isScrollable:function(){return this.scroll},isPlain:function(){return this.plain},hasHeader:function(){return Boolean(this.$slots.header||this.title)},hasFooter:function(){return Boolean(this.$slots.footer)},computedStyle:function(){var t=this.width+(Number(this.width)?"px":"");return t&&"auto"!==t?{width:"100%",maxWidth:t}:{}}},methods:{close:function(){this.$root.$emit("LastModal.closeTop")}}}),v=y,_=(o("d0e6"),f(v,h,b,!1,null,null,null)),g=_.exports,x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ModalStack"},[o("transition",{attrs:{name:t.config.backdropTransitionName}},[t.modals.length?o("div",{staticClass:"ModalStack__backdrop"}):t._e()]),o("transition-group",{attrs:{name:t.config.modalTransitionName}},t._l(t.modals,(function(e){return o("div",{key:e.id,staticClass:"ModalStack__modalWrapper",on:{click:function(o){return t.closeByBackdropClick(o,e)}}},[o(e.component,t._b({ref:"modal_"+e.id,refInFor:!0,tag:"component",staticClass:"ModalStack__modal",class:{isTop:t.topModal.id===e.id},on:{close:function(o){return t.close(e,o)}}},"component",e.props,!1))],1)})),0)],1)},M=[],k=function(){return k=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var a in e=arguments[o],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},k.apply(this,arguments)},w=c.a.extend({name:"modal-stack",props:{config:{type:Object}},data:function(){return{sequence:1,modals:[]}},computed:{topModal:function(){return this.modals.length?this.modals[this.modals.length-1]:null}},methods:{open:function(t){var e;null===(e=document.activeElement)||void 0===e||e.blur(),this.modals.push(k(k({},t),{id:this.sequence++}))},close:function(t,e){var o=this;if(void 0===e&&(e=void 0),this.modals.find((function(e){var o=e.id;return o===t.id}))){var n=function(){o.modals=o.modals.filter((function(e){var o=e.id;return o!==t.id})),t&&t.resolve(e)},a=this._getModalInstance(t);a&&"before-close"in a.$listeners?a.$emit("before-close",n):n()}},closeTop:function(){this.topModal&&this.close(this.topModal)},closeByEscKey:function(t){this.topModal&&"Escape"===t.key&&!t.defaultPrevented&&(t.preventDefault(),this.closeTop())},closeByBackdropClick:function(t,e){t.target===t.currentTarget&&this.close(e)},_getModalInstance:function(t){return this.$refs["modal_"+t.id][0].$children[0]}},mounted:function(){document.body.appendChild(this.$el),document.addEventListener("keydown",this.closeByEscKey),this.$root.$on("LastModal.open",this.open),this.$root.$on("LastModal.close",this.close),this.$root.$on("LastModal.closeTop",this.closeTop)},destroyed:function(){document.body.removeChild(this.$el),document.removeEventListener("keydown",this.closeByEscKey),this.$root.$off("LastModal.open",this.open),this.$root.$off("LastModal.close",this.close),this.$root.$off("LastModal.closeTop",this.closeTop)}}),S=w,L=(o("2506"),f(S,x,M,!1,null,null,null)),$=L.exports,C=function(){return C=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var a in e=arguments[o],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},C.apply(this,arguments)},T={cancelLabel:"Cancel",confirmLabel:"OK",buttonClassName:"btn btn-secondary",primaryButtonClassName:"btn btn-primary",backdropTransitionName:"ModalStack__backdrop",modalTransitionName:"ModalStack__modal"},j={_installed:!1,_container:void 0,install:function(t,e){var o=this;if(void 0===e&&(e={}),!this._installed){this._installed=!0,e=C(C({},T),e),t.component(g.name,g);var n=function(o){var n=document.createElement("div");return document.body.appendChild(n),new t({parent:o,render:function(t){return t($,{props:{config:e}})}}).$mount(n)},a=function(t){return o._container||(o._container=n(t)),o._container.$children[0]};t.prototype.$modal=function(t,e){var o=this;return void 0===e&&(e={}),new Promise((function(n){return a(o.$root).open({component:t,props:e,resolve:n})}))},t.prototype.$dialog=function(t){var e=t.title,o=t.message,n=t.buttons;return this.$modal(m,{title:e,message:o,buttons:n})},t.prototype.$alert=function(t){"string"===typeof t&&(t={message:t});var o=t.title,n=t.message,a=t.confirmLabel,r=void 0===a?e.confirmLabel:a;return this.$dialog({title:o,message:n,buttons:[{className:e.buttonClassName,label:r}]})},t.prototype.$confirm=function(t){"string"===typeof t&&(t={message:t});var o=t.title,n=t.message,a=t.cancelLabel,r=void 0===a?e.cancelLabel:a,i=t.confirmLabel,s=void 0===i?e.confirmLabel:i;return this.$dialog({title:o,message:n,buttons:[{className:e.buttonClassName,label:r,value:!1},{className:e.primaryButtonClassName,label:s,value:!0}]})}}}},N=j;e["default"]=N}})}));