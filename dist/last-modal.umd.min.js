(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["last-modal"]=e():t["last-modal"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function o(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="fb15")}({"0497":function(t,e,o){"use strict";var a=o("2bbe"),n=o.n(a);n.a},"0ac3":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ModalLayout",class:{hasHeader:t.hasHeader,hasFooter:t.hasFooter,isScrollable:t.isScrollable,isPlain:t.isPlain},style:t.computedStyle},[t.hideCloser?t._e():o("div",{staticClass:"ModalLayout__close",on:{click:function(e){return t.close()}}}),t.hasHeader?o("div",{staticClass:"ModalLayout__header"},[t._t("header",[o("div",{staticClass:"ModalLayout__title"},[t._v("\n          "+t._s(t.title)+"\n        ")])])],2):t._e(),o("div",{staticClass:"ModalLayout__body"},[t._t("default")],2),t.hasFooter?o("div",{staticClass:"ModalLayout__footer"},[t._t("footer")],2):t._e()])},n=[],i={name:"modal-layout",props:{title:String,hideCloser:Boolean,scroll:Boolean,plain:Boolean,width:{type:[Number,String],default:600}},computed:{isScrollable:function(){return this.scroll},isPlain:function(){return this.plain},hasHeader:function(){return this.$slots.header||this.title},hasFooter:function(){return this.$slots.footer},computedStyle:function(){var t=this.width+(Number(this.width)?"px":"");if(t&&"auto"!==t)return{width:"100%",maxWidth:t}}},methods:{close:function(){this.$root.$emit("lastModal.closeTop")}}},r=i,s=(o("31ce"),o("2877")),l=Object(s["a"])(r,a,n,!1,null,"5aa9110f",null);e["a"]=l.exports},1574:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ModalStack"},[o("transition",{attrs:{name:"backdrop"}},[t.modals.length?o("div",{staticClass:"ModalStack__backdrop"}):t._e()]),o("transition-group",{attrs:{name:"modal"}},t._l(t.modals,function(e){return o("div",{key:e.id,staticClass:"ModalStack__modalWrapper",on:{click:function(o){return t.closeByBackdropClick(o,e)}}},[o(e.component,t._b({ref:"modal_"+e.id,refInFor:!0,tag:"component",staticClass:"ModalStack__modal",class:{isTop:t.topModal.id===e.id},on:{close:function(o){return t.close(e,o)}}},"component",e.props,!1))],1)}),0)],1)},n=[],i={name:"modal-stack",data:function(){return{modals:[]}},computed:{topModal:function(){return this.modals.length?this.modals[this.modals.length-1]:null}},methods:{open:function(t){document.activeElement&&document.activeElement.blur(),this.modals.push(t)},close:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this.modals.find(function(e){var o=e.id;return o===t.id})){var a=function(){e.modals=e.modals.filter(function(e){var o=e.id;return o!==t.id}),t.resolve(o)},n=this._getModalInstance(t);"before-close"in n.$listeners?n.$emit("before-close",a):a()}},closeTop:function(){this.close(this.topModal)},closeByEscKey:function(t){this.topModal&&"Escape"===t.key&&!t.defaultPrevented&&(t.preventDefault(),this.closeTop())},closeByBackdropClick:function(t,e){t.target===t.currentTarget&&this.close(e)},_getModalInstance:function(t){return this.$refs["modal_".concat(t.id)][0].$children[0]}},mounted:function(){document.body.appendChild(this.$el),document.addEventListener("keydown",this.closeByEscKey),this.$root.$on("lastModal.open",this.open),this.$root.$on("lastModal.close",this.close),this.$root.$on("lastModal.closeTop",this.closeTop)},destroyed:function(){document.body.removeChild(this.$el),document.removeEventListener("keydown",this.closeByEscKey),this.$root.$off("lastModal.open",this.open),this.$root.$off("lastModal.close",this.close),this.$root.$off("lastModal.closeTop",this.closeTop)}},r=i,s=(o("0497"),o("2877")),l=Object(s["a"])(r,a,n,!1,null,"1e02f98d",null);e["a"]=l.exports},2350:function(t,e){function o(t,e){var o=t[1]||"",n=t[3];if(!n)return o;if(e&&"function"===typeof btoa){var i=a(n),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[o].concat(r).concat([i]).join("\n")}return[o].join("\n")}function a(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+o+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a=o(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a}).join("")},e.i=function(t,o){"string"===typeof t&&(t=[[null,t,""]]);for(var a={},n=0;n<this.length;n++){var i=this[n][0];"number"===typeof i&&(a[i]=!0)}for(n=0;n<t.length;n++){var r=t[n];"number"===typeof r[0]&&a[r[0]]||(o&&!r[2]?r[2]=o:o&&(r[2]="("+r[2]+") and ("+o+")"),e.push(r))}},e}},2877:function(t,e,o){"use strict";function a(t,e,o,a,n,i,r,s){var l,d="function"===typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=o,d._compiled=!0),a&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(t,e){return l.call(e),c(t,e)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:d}}o.d(e,"a",function(){return a})},"2bbe":function(t,e,o){var a=o("f4c3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=o("499e").default;n("6cdb5d04",a,!0,{sourceMap:!1,shadowMode:!1})},"31ce":function(t,e,o){"use strict";var a=o("9512"),n=o.n(a);n.a},"499e":function(t,e,o){"use strict";function a(t,e){for(var o=[],a={},n=0;n<e.length;n++){var i=e[n],r=i[0],s=i[1],l=i[2],d=i[3],c={id:t+":"+n,css:s,media:l,sourceMap:d};a[r]?a[r].parts.push(c):o.push(a[r]={id:r,parts:[c]})}return o}o.r(e),o.d(e,"default",function(){return m});var n="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},r=n&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,d=!1,c=function(){},u=null,f="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,o,n){d=o,u=n||{};var r=a(t,e);return b(r),function(e){for(var o=[],n=0;n<r.length;n++){var s=r[n],l=i[s.id];l.refs--,o.push(l)}e?(r=a(t,e),b(r)):r=[];for(n=0;n<o.length;n++){l=o[n];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete i[l.id]}}}}function b(t){for(var e=0;e<t.length;e++){var o=t[e],a=i[o.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](o.parts[n]);for(;n<o.parts.length;n++)a.parts.push(v(o.parts[n]));a.parts.length>o.parts.length&&(a.parts.length=o.parts.length)}else{var r=[];for(n=0;n<o.parts.length;n++)r.push(v(o.parts[n]));i[o.id]={id:o.id,refs:1,parts:r}}}}function h(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function v(t){var e,o,a=document.querySelector("style["+f+'~="'+t.id+'"]');if(a){if(d)return c;a.parentNode.removeChild(a)}if(p){var n=l++;a=s||(s=h()),e=g.bind(null,a,n,!1),o=g.bind(null,a,n,!0)}else a=h(),e=_.bind(null,a),o=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else o()}}var y=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}();function g(t,e,o,a){var n=o?"":a.css;if(t.styleSheet)t.styleSheet.cssText=y(e,n);else{var i=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i)}}function _(t,e){var o=e.css,a=e.media,n=e.sourceMap;if(a&&t.setAttribute("media",a),u.ssrId&&t.setAttribute(f,e.id),n&&(o+="\n/*# sourceURL="+n.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=o;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}},"4b19":function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,'.ModalLayout[data-v-5aa9110f]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;margin:auto;min-height:-webkit-fit-content;min-height:-moz-fit-content;min-height:fit-content;background:#fff;border-radius:4px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1)}.ModalLayout.isScrollable[data-v-5aa9110f]{min-height:auto;max-height:calc(100vh - 3rem)}.ModalLayout__header[data-v-5aa9110f]{padding:1.25rem 4rem 1.25rem 1.5rem}.ModalLayout__header .ModalLayout.isPlain[data-v-5aa9110f]{padding:0}.ModalLayout__title[data-v-5aa9110f]{font-size:larger}.ModalLayout__close[data-v-5aa9110f]{position:absolute;z-index:1;top:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:4rem;height:4.3rem;font-size:1.85rem;opacity:.4}.ModalLayout__close[data-v-5aa9110f]:before{content:"\\D7";-webkit-transform:translateY(-.15rem);transform:translateY(-.15rem)}.ModalLayout__close[data-v-5aa9110f]:hover{opacity:1;cursor:pointer}.ModalLayout__body[data-v-5aa9110f]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:1.5rem;border-radius:4px}.ModalLayout.hasHeader .ModalLayout__body[data-v-5aa9110f]{padding-top:0;border-top-right-radius:0;border-top-left-radius:0}.ModalLayout.hasFooter .ModalLayout__body[data-v-5aa9110f]{padding-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.ModalLayout.isScrollable .ModalLayout__body[data-v-5aa9110f]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;overflow:auto;padding:1.5rem}.ModalLayout.isScrollable.hasHeader .ModalLayout__body[data-v-5aa9110f]{border-top:1px solid rgba(0,0,0,.1)}.ModalLayout.isScrollable.hasFooter .ModalLayout__body[data-v-5aa9110f]{border-bottom:1px solid rgba(0,0,0,.1)}.ModalLayout.isPlain .ModalLayout__body[data-v-5aa9110f]{padding:0}.ModalLayout__footer[data-v-5aa9110f]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:1.25rem 1.5rem}.ModalLayout.isPlain .ModalLayout__footer[data-v-5aa9110f]{padding:0}',""])},"5bcf":function(t,e,o){"use strict";var a=o("b4bd"),n=o.n(a);n.a},9512:function(t,e,o){var a=o("4b19");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=o("499e").default;n("058d48c3",a,!0,{sourceMap:!1,shadowMode:!1})},9565:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal-layout",{staticClass:"Dialog",attrs:{width:"480",title:t.title,closer:""}},[t._v("\n    "+t._s(t.message)+"\n\n    "),o("template",{slot:"footer"},[o("div",{staticClass:"Dialog__buttons"},t._l(t.buttons,function(e,a){return o("span",{key:a,staticClass:"Dialog__buttonWrapper"},[o("button",{class:e.className,attrs:{type:"button"},on:{click:function(o){return t.$emit("close",e.value)}}},[t._v("\n                    "+t._s(e.label)+"\n                ")])])}),0)])],2)},n=[],i={props:{title:String,message:String,buttons:Array},mounted:function(){var t=this.$el.querySelectorAll("button");t.length&&t[t.length-1].focus()}},r=i,s=(o("5bcf"),o("2877")),l=Object(s["a"])(r,a,n,!1,null,"1f089e96",null);e["a"]=l.exports},acf7:function(t,e,o){"use strict";(function(t){var a=o("9565"),n=o("0ac3"),i=o("1574"),r={cancelLabel:"Cancel",confirmLabel:"OK",buttonClassName:"btn btn-secondary",primaryButtonClassName:"btn btn-primary"},s={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=0;e=Object.assign({},r,e),t.component(i["a"].name,i["a"]),t.component(n["a"].name,n["a"]),t.prototype.$modal=function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(i){e.$root.$emit("lastModal.open",{id:++o,component:t,props:a,resolve:i,inline:n})})},t.prototype.$dialog=function(t){var e=t.title,o=t.message,n=t.buttons;return this.$modal(a["a"],{title:e,message:o,buttons:n})},t.prototype.$alert=function(t){return"string"===typeof t&&(t={message:t}),this.$dialog({title:t.title,message:t.message,buttons:[{className:e.buttonClassName,label:t.confirmLabel||e.confirmLabel}]})},t.prototype.$confirm=function(t){return"string"===typeof t&&(t={message:t}),this.$dialog({title:t.title,message:t.message,buttons:[{className:e.buttonClassName,label:t.cancelLabel||e.cancelLabel,value:!1},{className:e.primaryButtonClassName,label:t.confirmLabel||e.confirmLabel,value:!0}]})}}},l=null;"undefined"!==typeof window?l=window.Vue:"undefined"!==typeof t&&(l=t.Vue),l&&l.use(s),e["a"]=s}).call(this,o("c8ba"))},b4bd:function(t,e,o){var a=o("cc4a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=o("499e").default;n("18e41baf",a,!0,{sourceMap:!1,shadowMode:!1})},c8ba:function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(a){"object"===typeof window&&(o=window)}t.exports=o},cc4a:function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".Dialog__buttons[data-v-1f089e96]{text-align:right;margin-top:1rem}.Dialog__buttonWrapper+.Dialog__buttonWrapper[data-v-1f089e96]{margin-left:.5rem}",""])},f4c3:function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".ModalStack[data-v-1e02f98d]{position:fixed;z-index:1050}.ModalStack__backdrop[data-v-1e02f98d]{background:rgba(0,0,0,.35);position:fixed;z-index:1;top:0;left:0;width:100%;height:100%}.ModalStack__modalWrapper[data-v-1e02f98d]{position:fixed;z-index:2;top:0;left:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100vw;padding:1.5rem}.ModalStack__modalScroller[data-v-1e02f98d],.ModalStack__modalWrapper[data-v-1e02f98d]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:100vh;overflow:auto}.ModalStack__modalScroller[data-v-1e02f98d]{position:relative;width:100%}.ModalStack__modal[data-v-1e02f98d]{-webkit-transition:-webkit-filter .15s;transition:-webkit-filter .15s;transition:filter .15s;transition:filter .15s,-webkit-filter .15s}.ModalStack__modal[data-v-1e02f98d]:not(.isTop){-webkit-filter:brightness(80%);filter:brightness(80%)}.modal-enter-active[data-v-1e02f98d],.modal-leave-active[data-v-1e02f98d]{-webkit-transition:opacity .25s;transition:opacity .25s}.modal-enter[data-v-1e02f98d],.modal-leave-to[data-v-1e02f98d]{opacity:0}.backdrop-enter-active[data-v-1e02f98d],.backdrop-leave-active[data-v-1e02f98d]{-webkit-transition:opacity .25s;transition:opacity .25s}.backdrop-enter[data-v-1e02f98d],.backdrop-leave-to[data-v-1e02f98d]{opacity:0}",""])},fb15:function(t,e,o){"use strict";var a;(o.r(e),"undefined"!==typeof window)&&((a=window.document.currentScript)&&(a=a.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(o.p=a[1]));var n=o("acf7");e["default"]=n["a"]}})});